name: auto-pull-request

on:
  push:
    branches:
      - v2

jobs:
  auto-pr:
    name: "Auto PR"
    runs-on: "ubuntu-latest"

    steps:
      - uses: actions/checkout@v3
      - uses: peter-evans/create-pull-request@v4
        with:
          token: "${{ secrets.GITHUB_TOKEN }}"
          commit-message: "auto: cherry picks v2 commits"
          committer: GitHub <noreply@github.com>
          author: ${{ github.actor }} <${{ github.actor }}@users.noreply.github.com>
          signoff: false
          branch: v2
          delete-branch: true
          title: "Cherry-pick v2 commits"
          body: |
            > This PR is auto-generated with GitHub Action by [auto-pr](https://github.com/marketplace/actions/create-pull-request)
            Track [v2](https://github.com/ezbuy/ezorm/tree/v2) commits and keep main branch up to date.
          labels: |
             auto-pr
          assignees: |
            scbizu
          reviewers: |
            scbizu
            hackerzgz
          draft: false


